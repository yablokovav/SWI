# SWI

## Описание
Данный проект реализует прототип ПО для обработки сейсмических данных методом MASW
(многоканальный анализ поверхностных волн).
Программа позволяет загружать сейсмограммы, проводить препроцессинг, выполнять спектральный анализ для извлечения
дисперсионных кривых и инверсии данных для построения 1D и 2D скоростных моделей.

## Данные
Данные лежат на гугл диске по [ссылке](https://drive.google.com/drive/folders/1YcE0_H11xHBEt7ca-7yVO10_wAVNM19y?usp=sharing)

## Функциональные возможности:
- Чтение файлов формата SEG-Y, включая заголовки и данные трасс
- Препроцессинг сейсмограмм 2D и 3D
- Спектральный анализ (методы Фурье и S-преобразования)
- Инверсия дисперсионных кривых для построения моделей

  Перечень и описание входных параметров доступно по ссылке:
  https://docs.google.com/document/d/1vzLqCvR4NY5r_3VVFTIAW85fIY90DYmOq_NErcgUEa4/edit?hl=ru&tab=t.0

## Установка
Установите [Poetry](https://python-poetry.org/), следуя [официальной инструкции](
https://python-poetry.org/docs/#installing-with-pipx).

1. Убедитесь, что у вас установлен `Poetry`:
   ```bash
   poetry --version
   ```

2. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/yablokov/SWI.git
   ```

3. Перейдите в директорию проекта:
   ```bash
   cd SWI
   ```

4. Установите зависимости с помощью `Poetry`:
   ```bash
   poetry install
   ```

5. Активируйте виртуальную среду:
   ```bash
   poetry shell
   ```
   
Pre-commit хуки можно установить командой:

```bash
pre-commit install --allow-missing-config
```

Чтобы настроить Jupyter Notebook для работы с вашим проектом и видимости всех модулей, следуйте этой инструкции:

1. **Установка ядра (kernel)**:
   После установки зависимостей через `Poetry`, установите ядро для Jupyter с помощью следующей команды:
   ```bash
   poetry run ipython kernel install --user --name=имя_проекта
   ```

2. **Выбор ядра**:
   - Запустите Jupyter Notebook:
     ```bash
     poetry run jupyter notebook
     ```
   - При создании нового блокнота выберите ядро, установленное ранее, в разделе "Kernel" -> "Change Kernel".

Это обеспечит видимость всех установленных зависимостей и модулей проекта в Jupyter.

## Этапы обработки

1. **Чтение данных**: Поддерживается чтение файлов SEG-Y и параметров обработки из YAML-конфигурации.
2. **Препроцессинг**: Включает сортировку сейсмограмм по профилю, обрезку данных и удаление тренда.
3. **Спектральный анализ**: Преобразование данных в частотно-скоростное представление с использованием 2D-Фурье и
S-преобразований.
4. **Извлечение дисперсионных кривых**: Система может использовать различные алгоритмы, включая методы максимальных
амплитуд, автоэнкодеров и кластеризации.
5. **Инверсия дисперсионных кривых**: Инверсия может выполняться с использованием методов локальной и глобальной
оптимизации, таких как Occam, SSA и GWO, для построения скоростных моделей Vs.
